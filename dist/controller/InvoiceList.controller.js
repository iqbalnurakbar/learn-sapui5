sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/json/JSONModel","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/m/MessageToast"],(e,t,o,i,s)=>{"use strict";return e.extend("com.iqbal.app.controller.InvoiceList",{onInit(){const e=new t({currency:"EUR"});this.getOwnerComponent().setModel(e,"view");this.getOwnerComponent().getModel("view").setProperty("/isRemoteData",false)},onFilterInvoice(e){const t=[];const s=e.getParameter("query");if(s){const e=[new o({path:"ProductName",operator:i.Contains,value1:s})];if(!isNaN(parseFloat(s))&&isFinite(s)){e.push(new o({path:"Quantity",operator:i.EQ,value1:parseFloat(s)}))}t.push(new o({filters:e,or:true}))}const n=this.byId("invoiceList");const a=n.getBinding("items");a.filter(t)},onLoadLocal(){this._clearFilter();const e=this.getOwnerComponent().getModel("invoice");const t=this.getOwnerComponent().getModel("view");if(e){this.getView().setModel(e,"invoice");t.setProperty("/isRemoteData",false);s.show("Local data loaded successfully!")}console.log(this.getView().getModel("view").getProperty("/isRemoteData"))},onLoadRemote(){this._clearFilter();const e=this.getOwnerComponent().getModel("invoiceOdata");const t=this.getOwnerComponent().getModel("view");if(e){if(e.getMetadata()){this.getView().setModel(e,"invoice");s.show("Remote data loaded successfully!")}else{e.attachMetadataLoaded(()=>{this.getView().setModel(e,"invoice");s.show("Remote data loaded successfully!")})}}t.setProperty("/isRemoteData",true);console.log(this.getView().getModel("view").getProperty("/isRemoteData"))},_clearFilter(){const e=this.byId("invoiceList");if(e){const t=e.getBinding("items");if(t){t.filter([])}}const t=this.byId("SearchField");if(t){t.setValue("")}},onPress(e){const t=e.getSource();const o=this.getOwnerComponent().getRouter();o.navTo("detail",{invoicePath:window.encodeURIComponent(t.getBindingContext("invoice").getPath().substring(1))})}})});
//# sourceMappingURL=InvoiceList.controller.js.map